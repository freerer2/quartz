---
date: 2024-08-29
updated: 2024-08-29
order: 20
---
í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ê±°ë‚˜ ê°•ì˜, ì±…ì„ ë³´ë©´ í•­ìƒ ì—”í‹°í‹°ë¥¼ ì§ì ‘ ë°˜í™˜í•˜ì§€ë§ê³  DTOë¡œ ë³€í™˜í•˜ì—¬ ë°˜í™˜í•˜ë¼ëŠ” ë§ì„ ì ‘í•˜ê±°ë‚˜ ë³´ì•˜ì„ ê²ƒì´ë‹¤.

í•˜ì§€ë§Œ ë‹¨ìˆœíˆ "ì•„ ~ ê·¸ë ‡ê²Œ í•˜ë¼ë‹ˆê¹Œ ê·¸ë ‡ê²Œ í•´ì•¼ì§€" ë³´ë‹¤ëŠ” **"ì™œ? ì—”í‹°í‹°ë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ì§€ ë§ê³  DTOë¥¼ ì‚¬ìš©í•´ì•¼í•˜ëŠ”ê°€"** ì— ëŒ€í•´ ì •ë¦¬í•´ë³´ë ¤ê³  í•œë‹¤.

![etc-image-0](https://blog.kakaocdn.net/dn/nnLRy/btsj7LKu1vE/5CJ528r3CVYtK39KgETCBk/img.png)

> **DTOì™€ Entity êµ¬ë¶„**

- DTO(Data Transfer Object) : í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ê°„ ë°ì´í„° ì „ì†¡ì„ ìœ„í•´ ì„¤ê³„ëœ ê°ì²´
- Entity : ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ë˜ëŠ” ë°ì´í„° ê°ì²´ë¡œ, ë°ì´í„°ë² ì´ìŠ¤ì™€ ì§ì ‘ì ìœ¼ë¡œ ì—°ê²°

---

## Enttityë¥¼ ì§ì ‘ ë°˜í™˜í•  ê²½ìš° ìƒê¸°ëŠ” ë¬¸ì œì 

> **ì—”í‹°í‹° êµ¬ì¡° ë³€ê²½ ì‹œ ë°œìƒí•˜ëŠ” ë¬¸ì œ**

ì˜ˆë¥¼ ë“¤ì–´ ìš”êµ¬ì‚¬í•­ì´ ë³€ê²½ë˜ì–´ ì—”í‹°í‹°ì˜ í•„ë“œ ì´ë¦„ì´ ë³€ê²½ ë  ê²½ìš°, API ìŠ¤í™ì´ ë³€ê²½ë˜ì–´ ì¶”ê°€ ì‘ì—…ì´ ìš”êµ¬ëœë‹¤.

ì´ëŠ” íš¨ê³¼ì ì¸ ìœ ì§€ ë³´ìˆ˜ê°€ ì–´ë ¤ì›Œì ¸ ì‹œê°„ê³¼ ë¹„ìš©ì´ ì¦ê°€í•  ìˆ˜ ìˆë‹¤.

> **í•„ìš”í•œ ë°ì´í„°ë§Œ ì „ì†¡í•˜ê¸° ì–´ë µë‹¤.**

ì—”í‹°í‹°ë¥¼ ì§ì ‘ ë°˜í™˜í•˜ë©´ ì—”í‹°í‹°ì— ì¡´ì¬í•˜ëŠ” ëª¨ë“  ë°ì´í„°ê°€ ë°˜í™˜ëœë‹¤.

(ëª¨ë“  ë°ì´í„°ë¥¼ ë°˜í™˜í•˜ê²Œ ë˜ë©´ íŠ¸ë˜í”½ì´ ì¦ê°€í•  ìˆ˜ ìˆìœ¼ë©° ì„±ëŠ¥ ë° ë¹„ìš©ë©´ì—ì„œë„ í˜„ì €í•œ ì°¨ì´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.)

ì¦‰, ì‚¬ìš©ìê°€ í•„ìš”ë¡œ í•˜ëŠ” ë°ì´í„°ë§Œ ì „ì†¡í•˜ê¸° ì–´ë ¤ì›€ì´ ìˆë‹¤.

ì´ë¡œ ì¸í•´ **ë¶ˆí•„ìš”í•œ ë°ì´í„°ë¥¼ ì‚¬ìš©ìì—ê²Œ ì „ë‹¬**ë  ìˆ˜ ìˆë‹¤.

> **ìˆœí™˜ ì°¸ì¡° ë¬¸ì œ**

ì—”í‹°í‹° ê°„ì— ì–‘ë°©í–¥ ê´€ê³„ê°€ ì¡´ì¬í•  ê²½ìš°, ì—”í‹°í‹°ë¥¼ ë°˜í™˜í•˜ëŠ” ìˆœê°„ ìˆœí™˜ ì°¸ì¡°ë¡œ ì¸í•œ ë¬´í•œ **JSON ì§ë ¬í™” ì´ìŠˆ ë°œìƒ**í•  ìˆ˜ ìˆë‹¤.

> **ë³´ì•ˆ ë¬¸ì œ**

Entityë¥¼ ë°˜í™˜í•˜ë©´ í…Œì´ë¸”ì„ ê³µê°œí•˜ëŠ” ê²ƒì´ë‚˜ ë‹¤ë¦„ì—†ìœ¼ë¯€ë¡œ **ë¯¼ê°í•œ ì •ë³´ê°€ ë…¸ì¶œ**ë  ê°€ëŠ¥ì„±ì´ ìˆë‹¤.

---

## DTOì™€ Entityë¥¼ ë¶„ë¦¬í•˜ì—¬ ì–»ëŠ” ì¥ì 

> **Viewì™€ Modelì˜ ë¶„ë¦¬ (MVC íŒ¨í„´)**

DTOëŠ” View(ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤)ì™€ Controller(ì„œë²„) ê°„ì˜ ì¸í„°í˜ì´ìŠ¤ ì—­í• ì„ í•˜ë©°, EntityëŠ” Model(ë°ì´í„°ë² ì´ìŠ¤)ì˜ ì—­í• ì„ í•œë‹¤.

ì´ëŸ¬í•œ ë¶„ë¦¬ë¥¼ í†µí•´ **MCV íŒ¨í„´ì„ ì ìš©**í•˜ì—¬, **ì½”ë“œì˜ ê°€ë…ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ë¥¼ ìš©ì´**í•˜ê²Œ í•  ìˆ˜ ìˆë‹¤.

> **í•„ìš”í•œ ë°ì´í„°ë§Œ ì„ ë³„í•˜ì—¬ ì„œë²„ ì‚¬ìš©ëŸ‰ ìµœì†Œí™”**

DTOëŠ” ì„œë²„ì—ì„œ í´ë¼ì´ì–¸íŠ¸ì— ë°ì´í„°ë¥¼ ì „ì†¡í•˜ëŠ” ë° ì‚¬ìš©ëœë‹¤.

ë”°ë¼ì„œ Entity ë²”ìœ„ì—ì„œ **í•„ìš”í•œ í•„ë“œë¥¼ ì¬ì •ì˜í•˜ì—¬ í•„ìš”í•œ ë°ì´í„°ë§Œ ì „ì†¡ë  ìˆ˜ ìˆë„**ë¡ í•  ìˆ˜ ìˆë‹¤.

ì´ë¡œ ì¸í•´ ì „ì†¡í•˜ëŠ” ë°ì´í„°ì–‘ê³¼ ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­í­ ì‚¬ìš©ëŸ‰ì´ ìµœì í™”ë˜ì–´ **ë” ë¹ ë¥¸ ì‘ë‹µì‹œê°„ê³¼ ì „ì†¡ì‹œê°„**ì„ ì–»ì„ ìˆ˜ ìˆë‹¤.

> **ì—”í‹°í‹° êµ¬ì¡°ê°€ ë³€ê²½ë˜ì–´ë„ ì•ˆì „**

ì—”í‹°í‹° êµ¬ì¡°ê°€ ë³€ê²½ë˜ë”ë¼ë„ DTOë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„° ì „ì†¡ì„ ì²˜ë¦¬í•˜ë©´ ì´ ë³€ê²½ ì‚¬í•­ì´ í´ë¼ì´ì–¸íŠ¸ì— ì§ì ‘ì ìœ¼ë¡œ ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•ŠëŠ”ë‹¤.

DTOë¥¼ ì‚¬ìš©í•˜ë©´ **ì—”í‹°í‹°ì˜ ë³€ê²½ìœ¼ë¡œ ì¸í•œ ì˜í–¥ì„ ìµœì†Œí™”**í•  ìˆ˜ ìˆìœ¼ë©°, **í´ë¼ì´ì–¸íŠ¸ì—ê²Œ í•„ìš”í•œ ë°ì´í„°ë§Œ ì „ë‹¬**í•  ìˆ˜ ìˆë‹¤.

ì„œë²„ ì¸¡ì—ì„œëŠ” ì—”í‹°í‹°ì˜ ë³€ê²½ì„ í•´ê²°í•˜ê³  í•„ìš”í•œ í•„ë“œë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ìˆ˜ì •í•œ DTOë¥¼ í´ë¼ì´ì–¸íŠ¸ì— ë…¸ì¶œì‹œí‚¤ë©´ ëœë‹¤.

ì´ë ‡ê²Œ í•¨ìœ¼ë¡œì¨ í´ë¼ì´ì–¸íŠ¸ì™€ **ì„œë²„ ê°„ì˜ ê²°í•©ë„ë¥¼ ë‚®ì¶”ê³  ìœ ì§€ë³´ìˆ˜ê°€ ìš©ì´**í•´ì§„ë‹¤.

> **ìˆœí™˜ ì°¸ì¡° ì˜ˆë°©**

**DTO**ëŠ” ì—”í‹°í‹° ê°„ì˜ **ì–‘ë°©í–¥ ì°¸ì¡°ê°€ í¬í•¨ë˜ì§€ ì•Šì€ ê°„ë‹¨í•œ êµ¬ì¡°**ë¥¼ ê°–ëŠ”ë‹¤.

ì´ë¥¼ í†µí•´ í´ë¼ì´ì–¸íŠ¸ì™€ **ì„œë²„ ê°„ì˜ í†µì‹  ê³¼ì •ì—ì„œ ë³µì¡í•œ ê°ì²´ ê°„ ì°¸ì¡°ê°€ ìµœì†Œí™”**ë˜ë©°, **ìˆœí™˜ ì°¸ì¡° ë¬¸ì œë¥¼ ì˜ˆë°©**í•  ìˆ˜ ìˆë‹¤.

> **Validation ì½”ë“œì™€ ëª¨ë¸ë§ ì½”ë“œ ë¶„ë¦¬**

- validation ì½”ë“œ : @NotNull, @NotEmpty, @NotBlank ë“±
- ëª¨ë¸ë§ ì½”ë“œ : @Column, @JoinColumn, @ManyToOne, @OneToOne ë“±

EntityëŠ” DBì˜ í…Œì´ë¸”ê³¼ ë§¤ì¹­ë˜ëŠ” í•„ë“œê°€ ì„ ì–¸ë˜ì–´ ìˆë‹¤.

ê·¸ë ‡ê¸° ë•Œë¬¸ì— Entityì—ëŠ” ëª¨ë¸ë§ì„ ìœ„í•œ ì½”ë“œê°€ ì¶”ê°€ëœë‹¤.

í•˜ì§€ë§Œ ì´ Entityì— validation ì½”ë“œê°€ ë“¤ì–´ê°€ê²Œ ëœë‹¤ë©´ ì—”í‹°í‹° í´ë˜ìŠ¤ëŠ” ë” ë³µì¡í•´ì§€ê³  ê°€ë…ì„±ì´ ë–¨ì–´ì§„ë‹¤.

ì´ ë•Œ, **ê°ê°ì˜ ìš”ì²­ë§ˆë‹¤ ë‹¤ë¥¸ DTOë¥¼ ë§Œë“¤ì–´ ìƒí™©ì— ë”°ë¼ í•„ìš”í•œ validationì„ ì¶”ê°€**í•œë‹¤ë©´ **Entity í´ë˜ìŠ¤ì˜ ëª¨ë¸ë§ì— ì§‘ì¤‘**í•  ìˆ˜ ìˆë‹¤.

> **ë³´ì•ˆ ê°•í™”**

DTOì™€ Entityë¥¼ ë¶„ë¦¬í•¨ìœ¼ë¡œì¨, í…Œì´ë¸” êµ¬ì¡°ëŠ” ì„œë²„ì¸¡ì—ë§Œ ì•Œ ìˆ˜ ìˆìœ¼ë¯€ë¡œ í•´ì»¤ë“¤ì´ ë°ì´í„°ë¥¼ ì¡°ì‘í•˜ëŠ” ê²ƒì„ ì–´ë µê²Œ í•  ìˆ˜ ìˆë‹¤.

ë”°ë¼ì„œ DTOì™€ Entityë¥¼ ë¶„ë¦¬í•˜ì—¬ **API ë³´ì•ˆì„±ì„ ê°•í™”ì‹œ**í‚¬ ìˆ˜ ìˆë‹¤.

---

## DTOì™€ Entity ë³€í™˜ ìœ„ì¹˜

![etc-image-1](https://blog.kakaocdn.net/dn/bBOND5/btsj8iuU9WL/bQIRQRU8NUd8viGhfA1R71/img.png)

> **Controller - í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ ë°›ê³  ì‘ë‹µì„ ë°˜í™˜**

ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œëŠ” **DTOì˜ í˜•íƒœë¡œ ë°ì´í„°ë¥¼ ë°›ì•„ ì„œë¹„ìŠ¤ì— ì „**ë‹¬í•œë‹¤.

```java
@Service
@RequiredArgsConstructor
public class PostsService {
 
    private final PostsRepository postsRepository;
 
    @Transactional
    public Posts save(PostsSaveRequestDto requestDto) {
        return postsRepository.save(requestDto.toEntity());
    }
 
    @Transactional
    public Posts update(Long id, PostsUpdateRequestDto requestDto) {
        Posts posts = postsRepository.findById(id)
                .orElseThrow(() -> new IllegalArgumentException("í•´ë‹¹ ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤. id = " + id));
        posts.update(requestDto.getTitle(), requestDto.getContent());
        return posts;
    }
    ...
}
```

> **Service - ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ìˆ˜í–‰í•˜ë©° ë°ì´í„° ì²˜ë¦¬ë¥¼ ë‹´ë‹¹**

ì„œë¹„ìŠ¤ì—ì„œëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ë°›ì€ **DTOë¥¼ Entityë¡œ ë³€í™˜**í•˜ê³ , í•„ìš”í•œ ì‘ì—…ì„ ìˆ˜í–‰í•œ ë’¤ì— **Repositoryì— Entityë¥¼ ì „ë‹¬**í•œë‹¤.

```java
@Service@RequiredArgsConstructorpublic class PostsService {     private final PostsRepository postsRepository;     @Transactional    public Posts save(PostsSaveRequestDto requestDto) {        return postsRepository.save(requestDto.toEntity());    }     @Transactional    public Posts update(Long id, PostsUpdateRequestDto requestDto) {        Posts posts = postsRepository.findById(id)                .orElseThrow(() -> new IllegalArgumentException("í•´ë‹¹ ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤. id = " + id));        posts.update(requestDto.getTitle(), requestDto.getContent());        return posts;    }    ...}
```

> **ğŸ“Œ Serviceì—ì„œ DTOë¥¼ Entityë¡œ ë³€í™˜í•˜ëŠ” ì´ìœ **

1. ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì²˜ë¦¬í•˜ëŠ” ê³³ì´ë¯€ë¡œ ë‹¤ì–‘í•œ ë³€í™˜ ë¡œì§ì„ ì ìš©í•  ìˆ˜ ìˆë‹¤.  
2. JpaRepositoryëŠ” @Entity ê°ì²´ë¥¼ ë§¤í•‘í•´ì„œ ì˜ì†ì„±í™”ë¥¼ ì²˜ë¦¬í•˜ì—¬ JpaRepository<Entity , ID> Entityë¥¼ íƒ€ì…ìœ¼ë¡œ ë°›ê¸° ë•Œë¬¸ì´ë‹¤.  
3. ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ìš”ì²­/ì‘ë‹µ ì²˜ë¦¬ë¥¼ ë‹´ë‹¹í•˜ë¯€ë¡œ ë³€í™˜ ì²˜ë¦¬ë¥¼ í•˜ëŠ” ê²ƒì´ ì±…ì„ ë²”ìœ„ë¥¼ ë²—ì–´ë‚œë‹¤.  
4. ë¦¬í¬ì§€í† ë¦¬ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì™€ì˜ ì¸í„°í˜ì´ìŠ¤ ì—­í• ì„ í•˜ë¯€ë¡œ DTO ë³€í™˜ ì—­í• ì„ ê°€ì§€ë©´ ì±…ì„ ë²”ìœ„ê°€ ë„ˆë¬´ ì»¤ì§„ë‹¤.

> **Repository - ë°ì´í„°ë² ì´ìŠ¤ì™€ ì¸í„°í˜ì´ìŠ¤ ì—­í• **

**ì„œë¹„ìŠ¤ì—ì„œ Entityë¥¼ ì „ë‹¬ ë°›ì•„ ì˜ì†í™”ë¥¼ ì²˜ë¦¬í•œë‹¤.**

```java
public interface PostsRepository extends JpaRepository<Posts, Long> {}
```

---

## Entity <-> DTO ë³€í™˜ ë©”ì„œë“œ êµ¬í˜„

**toEntity(), toDto() ê°™ì€ ë©”ì„œë“œë¥¼ DTO í´ë˜ìŠ¤ì— ì§ì ‘ ë³€í™˜ ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ì—¬ ìƒí˜¸**Â **ë³€í™˜ì„ ìˆ˜í–‰**í•  ìˆ˜ ìˆë‹¤.

í•´ë‹¹ ë³€í™˜ ë©”ì„œë“œëŠ” í•´ë‹¹ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìƒëŒ€ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê³  ë°˜í™˜í•œë‹¤.

```java
@Getter
@NoArgsConstructor
public class PostsSaveRequestDto {
 
    @NotEmpty
    private String title;
 
    private String content;
 
    private String author;
 
    @Builder
    public PostsSaveRequestDto(String title, String content, String author) {
        this.title = title;
        this.content = content;
        this.author = author;
    }
 
    public Posts toEntity() {
        return Posts.builder()
                .title(title)
                .content(content)
                .author(author)
                .build();
    }
    
    public PostsSaveRequestDto toDto(Posts posts) {
        return PostsSaveRequestDto.builder()
                .title(posts.getTitle())
                .content(posts.getContent)
                .author(posts.getAuthor)
                .build();
    }
}
```

## Mapstructë¥¼ ì´ìš©í•œ Entity <-> DTO ë³€í™˜ ë©”ì„œë“œ êµ¬í˜„
ì‘ì„±ì¤‘